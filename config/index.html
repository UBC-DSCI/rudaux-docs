<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        
        

        
        <link rel="apple-touch-icon" sizes="180x180" href="../img/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="../img/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="../img/favicon-16x16.png">
        <link rel="manifest" href="../img/site.webmanifest">
        <link rel="mask-icon" href="../img/safari-pinned-tab.svg" color="#5bbad5">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="msapplication-config" content="../img/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">
        
        <title>Configuration - Rudaux</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link href="../css/styles.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/color-brewer.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">Rudaux</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="..">Home</a>
                            </li>
                            <li >
                                <a href="../modules/">Modules</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Examples <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../examples/functions/">Functions</a>
</li>
                                    
<li >
    <a href="../examples/objects/">Objects</a>
</li>
                                </ul>
                            </li>
                            <li class="active">
                                <a href="./">Configuration</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../examples/objects/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="disabled">
                                <a rel="prev" >
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#configuring-rudaux">Configuring Rudaux</a></li>
            <li><a href="#configuration-options">Configuration Options</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="configuring-rudaux">Configuring Rudaux</h1>
<p>A configuration file should be included in the same directory where nbgrader operates. You have two options:</p>
<ol>
<li>Save the options in a file named <strong>rudaux_config.py</strong>. This will keep your options for each program separate.</li>
<li>Save the options in your <strong>nbgrader_config.py</strong> file. This will allow you to only maintain one config file.</li>
</ol>
<h2 id="configuration-options">Configuration Options</h2>
<h3 id="canvas">Canvas</h3>
<dl>
  <dt><code>c.Canvas.course_id</code></dt>
  <dd>The Canvas ID of your course. This is an integer.</dd>
  <dt><code>c.Canvas.course_url</code></dt>
  <dd>The URL of your Canvas distribution.</dd>
  <dt><code>c.Canvas.token_name</code></dt>
  <dd>The name of the environment variable holding your Canvas Access Token. A Canvas access token can be generated from [Account] -> [Settings] -> [ + New Access Token], at <code>https://&lt;your_canvas_url&gt;/profile/settings</code>.</dd>
  <dt><code>c.Canvas.external_tool_name</code></dt>
  <dd>The name of your external tool in Canvas. For more information, read the <a href='https://github.com/jupyterhub/ltiauthenticator#canvas'>ltiauthenticator documentation</a>.</dt>
  <dt><code>c.Canvas.external_tool_level</code></dt>
  <dd>The 'level' of your external tool. In Canvas, an external tool can be created at <a href='https://canvas.instructure.com/doc/api/file.tools_intro.html'>various levels</a>.</dd>
</dl>

<p><em>Note: The external tool parameters are required to locate the ID of your external tool in Canvas, and attach it to your assignment links. This links your LTI Consumer Key and LTI Consumer Secret to each launch request, authenticating your users.</em></p>
<h3 id="github">GitHub</h3>
<dl>
  <dt><code>c.GitHub.ins_repo_url</code></dt>
  <dd>The location of your instructors repository where you will keep your solutions, graded assignments, and gradebook.db. This can be a bare URL, an HTTPS git URL, or an SSH git URL.</dd>
  <dt><code>c.GitHub.stu_repo_url</code></dt>
  <dd>The location of your public student repository this will contain the release versions of your assignments This can be a bare URL, an HTTPS git URL, or an SSH git URL.</dd>
  <dt><code>c.GitHub.assignment_release_path</code></dt>
  <dd>The subpath of the student repository where assignments will be deposited. Defaults to 'materials' if none is specified.</dd>
</dl>

<h3 id="course">Course</h3>
<dl>
  <dt><code>c.Course.grading_image</code></dt>
  <dd>
    The docker image you will use to run nbgrader autograding. This should essentially be a copy of your students' docker image, plus nbgrader. Examples from UBC's DSCI 100:
    <ul>
      <li>
        <a href='https://github.com/UBC-DSCI/docker-stacks/blob/master/r-dsci-100/Dockerfile'>Student Container Dockerfile</a>
      </li>
      <li>
        <a href='https://github.com/UBC-DSCI/docker-stacks/blob/master/r-dsci-grading/Dockerfile'>Marking Container Dockerfile</a>
      </li>
    </ul>
  </dd>
  <dt><code>c.Course.assignments</code></dt>
  <dd>
    <p>A list of your assignments with the following fields:</p>
    <p><em>Note</em>: Rudaux parses datetimes with the pendulum library&mdash;acceptable date strings are listed in the <a href='https://pendulum.eustace.io/docs/#parsing'>pendulum docs</a>. For example, if 'duedate' were '2019-03-14' and 'duetime' were '22:00:00', they would be joined and parsed as '2019-03-14T22:00:00'.</p>
    <ul>
      <li>
        <dl>
          <dt><code>name</code></dt>
          <dd><em>String.</em> Required. Unique. The name of the assignment. Must conform to nbgrader naming conventions (i.e. must be the name of the folder containing the jupyter notebook).</dt>
        </dl>
      </li>
      <li>
        <dl>
          <dt><code>duedate</code></dt>
          <dd><em>String.</em> Required. The date the assignment is due.</dt>
        </dl>
      </li>
      <li>
        <dl>
          <dt><code>duetime</code></dt>
          <dd><em>String.</em> Optional. The time the assignment is due. Defaults to 23:59:59.</dt>
        </dl>
      </li>
      <li>
        <dl>
          <dt><code>points</code></dt>
          <dd><em>Int.</em> Optional. The maximum possible points for this assignment.</dt>
        </dl>
      </li>
      <li>
        <dl>
          <dt><code>manual</code></dt>
          <dd><em>Bool.</em> Optional. Does the assignment require manual input (i.e. TA feedback)? If so, feedback reports will not be generated and grades will not be submitted to Canvas automatically. </dt>
        </dl>
      </li>
    </ul>
  </dd>
</dl>

<blockquote>
<p>To be continued...
In the meantime, please see the sample config below with relevant comments.</p>
</blockquote>
<p><strong>Sample rudaux_config.py</strong>:</p>
<div class="codehilite"><pre><span></span><span class="c1">#=======================================#</span>
<span class="c1">#                 Canvas                #</span>
<span class="c1">#=======================================#</span>

<span class="c1"># The ID of your course in Canvas. If you open your course in canvas, this will</span>
<span class="c1"># appear as:</span>
<span class="c1"># https://canvas.institution.edu/courses/&lt;course_id&gt;/assignments</span>
<span class="n">c</span><span class="o">.</span><span class="n">Canvas</span><span class="o">.</span><span class="n">course_id</span> <span class="o">=</span> <span class="mi">5394</span>

<span class="c1"># The URL of your Canvas installation</span>
<span class="n">c</span><span class="o">.</span><span class="n">Canvas</span><span class="o">.</span><span class="n">canvas_url</span> <span class="o">=</span> <span class="s1">&#39;https://canvas.ubc.ca&#39;</span>

<span class="c1"># The name of the environment variable storing you Canvas API Token</span>
<span class="c1"># https://canvas.instructure.com/doc/api/file.oauth.html#manual-token-generation</span>
<span class="c1"># Defaults to &#39;CANVAS_TOKEN&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">Canvas</span><span class="o">.</span><span class="n">token_name</span> <span class="o">=</span> <span class="s1">&#39;CANVAS_TOKEN&#39;</span>

<span class="c1"># The name of the external tool in Canvas which represents your JupyterHub server</span>
<span class="c1"># Defaults to &quot;Jupyter&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">Canvas</span><span class="o">.</span><span class="n">external_tool_name</span> <span class="o">=</span> <span class="s1">&#39;Jupyter&#39;</span>

<span class="c1"># The level at which your external tool was created in Canvas</span>
<span class="c1"># Can be &#39;course&#39;, &#39;account&#39; or &#39;group&#39;</span>
<span class="c1"># Defaults to &quot;course&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">Canvas</span><span class="o">.</span><span class="n">external_tool_level</span> <span class="o">=</span> <span class="s1">&#39;course&#39;</span>

<span class="c1">#=======================================#</span>
<span class="c1">#                 GitHub                #</span>
<span class="c1">#=======================================#</span>

<span class="c1"># The location of your instructors repository where you will keep your</span>
<span class="c1"># solutions, graded assignments, and gradebook.db</span>
<span class="c1"># c.GitHub.ins_repo_url = &#39;https://github.ubc.ca/hinshaws/dsci_100_instructors&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">GitHub</span><span class="o">.</span><span class="n">ins_repo_url</span> <span class="o">=</span> <span class="s1">&#39;git@github.ubc.ca:hinshaws/DSCI_100_instructors.git&#39;</span>

<span class="c1"># The location of your public student repository</span>
<span class="c1"># this will contain the release versions of your assignments</span>
<span class="c1"># c.GitHub.stu_repo_url = &#39;https://github.com/samhinshaw/dsci-100&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">GitHub</span><span class="o">.</span><span class="n">stu_repo_url</span> <span class="o">=</span> <span class="s1">&#39;git@github.com:samhinshaw/dsci-100.git&#39;</span>

<span class="c1"># the subpath of the student repository where assignments will be deposited.</span>
<span class="c1"># defaults to &#39;materials&#39; if none is specified</span>
<span class="n">c</span><span class="o">.</span><span class="n">GitHub</span><span class="o">.</span><span class="n">assignment_release_path</span> <span class="o">=</span> <span class="s1">&#39;materials&#39;</span>

<span class="c1"># default if not specified is &#39;GITHUB_PAT&#39;</span>
<span class="c1"># c.GitHub.github_token_name = &#39;GHE_PAT&#39;</span>

<span class="c1"># You can specify multiple keys, just paste the url you specified above into the URL fields</span>
<span class="c1"># c.GitHub.token_names = [</span>
<span class="c1">#     {</span>
<span class="c1">#         &quot;url&quot;: &quot;github.com&quot;,</span>
<span class="c1">#         &quot;token_name&quot;: &quot;GITHUB_PAT&quot;</span>
<span class="c1">#     },</span>
<span class="c1">#     {</span>
<span class="c1">#         &quot;domain&quot;: &quot;github.ubc.ca&quot;,</span>
<span class="c1">#         &quot;token_name&quot;: &quot;GHE_PAT&quot;</span>
<span class="c1">#     },</span>
<span class="c1"># ]</span>

<span class="c1">#=======================================#</span>
<span class="c1">#               JupyterHub              #</span>
<span class="c1">#=======================================#</span>

<span class="c1"># The URL that your JupyterHub is located at</span>
<span class="n">c</span><span class="o">.</span><span class="n">JupyterHub</span><span class="o">.</span><span class="n">hub_url</span> <span class="o">=</span> <span class="s1">&#39;https://hub-prod-dsci.stat.ubc.ca&#39;</span>
<span class="c1"># Any hub prefix that you have specified. In your jupyterhub_config.py, this</span>
<span class="c1"># would be named &quot;c.JupyterHub.base_url&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">JupyterHub</span><span class="o">.</span><span class="n">base_url</span> <span class="o">=</span> <span class="s1">&#39;/jupyter&#39;</span>

<span class="c1"># The location of your students&#39; persistent storage</span>
<span class="c1"># c.JupyterHub.storage_path = &#39;/tank/home/dsci100&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">JupyterHub</span><span class="o">.</span><span class="n">storage_path</span> <span class="o">=</span> <span class="s1">&#39;/nfs/hub-prod-dsc/&#39;</span> <span class="c1"># temporarily changed</span>

<span class="c1"># Is your persistent storage solution ZFS-based? (default: False)</span>
<span class="c1"># If so, we will utilize snapshotting to ensure that we are using a precise copy</span>
<span class="c1"># of the students&#39; notebooks at the time the assignment closes. If not, we will</span>
<span class="c1"># simply read from the student directories. In the future, it would be ideal to</span>
<span class="c1"># fall back to copying the assignments to a temporary directory.</span>
<span class="n">c</span><span class="o">.</span><span class="n">JupyterHub</span><span class="o">.</span><span class="n">zfs</span> <span class="o">=</span> <span class="bp">True</span>

<span class="c1">#=======================================#</span>
<span class="c1">#                 Course                #</span>
<span class="c1">#=======================================#</span>

<span class="c1"># Defaults to $HOME/tmp</span>
<span class="c1"># c.Course.tmp_dir = &#39;~/tmp&#39;</span>

<span class="c1"># Timezone for which your due dates will be set and parsed</span>
<span class="n">c</span><span class="o">.</span><span class="n">Course</span><span class="o">.</span><span class="n">timezone</span> <span class="o">=</span> <span class="s1">&#39;US/Pacific&#39;</span>

<span class="c1"># The docker image you will use to run nbgrader autograding.</span>
<span class="c1"># This should essentially be a copy of your students&#39; docker image, plus nbgrader.</span>
<span class="c1"># We wrote our Dockerfile to inherit from our student&#39;s docker image.</span>
<span class="n">c</span><span class="o">.</span><span class="n">Course</span><span class="o">.</span><span class="n">grading_image</span> <span class="o">=</span> <span class="s1">&#39;samhinshaw/r-dsci-grading&#39;</span>
<span class="c1"># c.Course.grading_image = &#39;ubcdsci/r-dsci-grading&#39;</span>

  <span class="c1">#===============#</span>
  <span class="c1">#  Assignments  #</span>
  <span class="c1">#===============#</span>

<span class="c1"># These must match the name of the folder containing the jupyter notebook in</span>
<span class="c1"># your &#39;source&#39; directory. If no points specified, defaults to 0 points.</span>
<span class="c1"># NOTE: If no time specified for due date, defaults to 23:59:59.</span>
<span class="c1"># We parse dates with the pendulum library, so you can see what date inputs are</span>
<span class="c1"># acceptable in their docs: https://pendulum.eustace.io/docs/#rfc-3339</span>
<span class="n">c</span><span class="o">.</span><span class="n">Course</span><span class="o">.</span><span class="n">assignments</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;week_1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;duedate&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-08-14&quot;</span><span class="p">,</span>
        <span class="s2">&quot;duetime&quot;</span><span class="p">:</span> <span class="s2">&quot;23:59:59&quot;</span><span class="p">,</span>
        <span class="s2">&quot;points&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;manual&quot;</span><span class="p">:</span> <span class="bp">True</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;homework_1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;duedate&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-08-15&quot;</span><span class="p">,</span>
        <span class="s2">&quot;duetime&quot;</span><span class="p">:</span> <span class="s2">&quot;11:00:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;points&quot;</span><span class="p">:</span> <span class="mi">5</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;ps1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;duedate&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-08-15&quot;</span><span class="p">,</span>
        <span class="s2">&quot;duetime&quot;</span><span class="p">:</span> <span class="s2">&quot;15:31:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;points&quot;</span><span class="p">:</span> <span class="mi">4</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;week_2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;duedate&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-08-16&quot;</span><span class="p">,</span>
        <span class="s2">&quot;duetime&quot;</span><span class="p">:</span> <span class="s2">&quot;23:59:59&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;homework_2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;duedate&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-08-16&quot;</span><span class="p">,</span>
        <span class="s2">&quot;duetime&quot;</span><span class="p">:</span> <span class="s2">&quot;06:00:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;points&quot;</span><span class="p">:</span> <span class="mi">6</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;week_6&quot;</span><span class="p">,</span>
        <span class="s2">&quot;duedate&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-08-18&quot;</span><span class="p">,</span>
        <span class="s2">&quot;duetime&quot;</span><span class="p">:</span> <span class="s2">&quot;23:59:59&quot;</span><span class="p">,</span>
        <span class="s2">&quot;points&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;manual&quot;</span><span class="p">:</span> <span class="bp">True</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;week_7&quot;</span><span class="p">,</span>
        <span class="s2">&quot;duedate&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-08-19&quot;</span><span class="p">,</span>
        <span class="s2">&quot;duetime&quot;</span><span class="p">:</span> <span class="s2">&quot;23:59:59&quot;</span><span class="p">,</span>
        <span class="s2">&quot;points&quot;</span><span class="p">:</span> <span class="mi">3</span>
    <span class="p">},</span>
<span class="p">]</span>
</pre></div></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
